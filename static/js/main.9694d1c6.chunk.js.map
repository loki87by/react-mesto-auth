{"version":3,"sources":["images/mesto.png","images/mob_menu.png","images/resOk.svg","images/false.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","utils/Auth.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/Api.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/MobileMenu.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","changeLink","crossLink","setEnterLink","setRegLink","mobileButton","isMenuOpen","type","aria-label","onClick","closeMenu","id","className","src","menu","openMenu","alt","logo","loggedIn","to","linkText","email","signOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","console","log","card","cardDeleteButtonVisible","owner","_id","display","isLiked","likes","some","i","cardLikeButtonClassName","style","onCardDelete","onCardClick","data-name","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlacePopup","cards","map","key","onCardCick","Footer","Login","onChange","e","setEmail","target","value","placeholder","setPassword","password","preventDefault","onLogin","Register","onRegister","BASE_URL","defaultUser","PopupWithForm","isOpen","onSubmit","method","action","onClose","title","children","EditAvatarPopup","avatarRef","useRef","useState","setAvatar","useEffect","onLoad","onUpdateAvatar","current","ref","required","isLoading","EditProfilePopup","setName","description","setDescription","onUpdateUser","pattern","minLength","maxLength","AddPlacePopup","placeTitle","setLink","onUpdatePlace","defaultValue","ImagePopup","ConfirmPopup","api","options","this","url","baseUrl","token","fetch","headers","then","res","ok","json","Promise","reject","Error","status","userName","userActivity","body","JSON","stringify","userAvatar","statusText","cardName","cardLink","cardId","data","InfoTooltip","submitText","image","text","ProtectedRoute","Component","component","MobileMenu","userData","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","dataImage","setDataImage","setCurrentUser","setCards","isSaveLoading","setSaveLoading","isCreateLoading","setCreateLoading","cardDelete","selectCardDelete","setLoggedIn","infoData","setInfoData","headerData","setHeaderData","setMenuOpen","userToken","setUserToken","history","useHistory","sourceLoading","Auth","user","push","catch","finally","getInitialCards","err","localStorage","removeItem","handleInfoTooltip","saveLoader","closeAllPopups","handleEscClose","handleClickClose","classList","contains","getItem","window","addEventListener","Provider","updateInfo","setUserAvatar","deleteCard","newCards","filter","exact","path","dislike","newCard","like","accesPic","errorPic","setItem","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.9694d1c6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/mob_menu.91a796f1.png\";","module.exports = __webpack_public_path__ + \"static/media/resOk.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/false.4072126c.svg\";","/* eslint-disable react/jsx-no-comment-textnodes */\r\nimport React from 'react';\r\nimport logo from '../images/mesto.png';\r\nimport menu from '../images/mob_menu.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  function changeLink() {\r\n    if (props.crossLink === \"/signin\") {\r\n      props.setEnterLink()\r\n    } else {\r\n      props.setRegLink()\r\n    }\r\n  }\r\n  const mobileButton = (\r\n      <>\r\n        {props.isMenuOpen ? <button type=\"reset\" aria-label=\"Закрыть\" onClick={props.closeMenu} id=\"closeMenu\" className=\"header__close-menu\"></button> : <img src={menu} onClick={props.openMenu} className=\"header__mobile-menu\" alt=\"меню\" />}\r\n      </>)\r\n  \r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"header__logo\" alt=\"логотип\" />\r\n      {props.loggedIn ? mobileButton : <Link to={props.crossLink} onClick={changeLink} className=\"header__text header__text_doubler\">{props.linkText}</Link>}\r\n      <div className=\"header__info\">\r\n        {props.loggedIn ? <p className=\"header__text\">{props.email}</p> : <Link to={props.crossLink} onClick={changeLink} className=\"header__text\">{props.linkText}</Link>}\r\n        {props.loggedIn ? <button onClick={props.signOut} className=\"header__button\">Выйти</button> : \"\"}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n  \r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\nexport const users = {}","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  function handleClick() {\r\n    props.onCardClick(props.card)\r\n  }\r\n  \r\n  console.log(props.card)\r\n  const isOwn = props.card.owner === currentUser._id;\r\n  const cardDeleteButtonVisible = (\r\n    isOwn ? {display: 'block'} : {display: 'none'}\r\n  );\r\n  const likes = props.card.likes\r\n  const isLiked = likes.some(function(i) {return i._id === currentUser._id});\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_type_active' : ''}`\r\n  );\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <template id=\"card\" className=\"card\">\r\n      <button className=\"card__delete\" style={cardDeleteButtonVisible} onClick={handleDeleteClick} type=\"reset\" aria-label=\"Удалить\"></button>\r\n      <img className=\"card__image\" onClick={handleClick} data-name=\"\" src={props.card.link} alt={props.card.name} />\r\n      <div className=\"card__bottom\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Мне нравится\"></button>\r\n        <h3 className=\"card__counter\">{props.card.likes.length}</h3>\r\n      </div>\r\n    </template>\r\n  );\r\n}\r\n  \r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <>\r\n      <div className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <img className=\"profile__photo\" src={currentUser.avatar} alt=\"аватар\" />\r\n          <div className=\"profile__photo profile__photo_change\" onClick={props.onEditAvatar}></div>\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button className=\"profile__button profile__button_type_edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__button profile__button_type_add\" type=\"button\" onClick={props.onAddPlacePopup}></button>\r\n      </div>\r\n      <div className=\"cards\">\r\n        {props.cards.map((card) => (\r\n          <Card key={card._id} card={card} onCardCick={props.onCardClick} onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n  \r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Алексей Акулич</p>\r\n    </footer>\r\n  );\r\n}\r\n  \r\nexport default Footer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLogin();\r\n  }\r\n  return (\r\n    <form className=\"signform\">\r\n      <p className=\"signform__text\">Войти</p>\r\n      <input type=\"text\" className=\"signform__input\" onChange={e => props.setEmail(e.target.value)} value={props.email} placeholder=\"Email\" id=\"email\" name=\"email\" />\r\n      <input type=\"password\" className=\"signform__input\" onChange={e => props.setPassword(e.target.value)} value={props.password} placeholder=\"Пароль\" id=\"pass\" name=\"pass\" />\r\n      <button type=\"submit\" className=\"signform__submit\" onClick={handleSubmit}>Войти</button>\r\n      <Link to=\"/signup\" onClick={props.changeLink} className=\"signform__link\">Еще не зарегистрированы? Регистрация</Link>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onRegister()\r\n  }\r\n\r\n  return (\r\n    <form className=\"signform\">\r\n      <p className=\"signform__text\">Регистрация</p>\r\n      <input type=\"text\" className=\"signform__input\" onChange={e => props.setEmail(e.target.value)} value={props.email} placeholder=\"Email\" id=\"email\" name=\"email\" />\r\n      <input type=\"password\" className=\"signform__input\" onChange={e => props.setPassword(e.target.value)} value={props.password} placeholder=\"Пароль\" id=\"password\" name=\"password\" />\r\n      <button type=\"submit\" className=\"signform__submit\" onClick={handleSubmit}>Зарегестрироваться</button>\r\n      <Link to=\"/signin\" onClick={props.changeLink} className=\"signform__link\">Уже зарегистрированы? Войти</Link>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","export const BASE_URL = 'http://api.loki.students.nomoreparties.co';\r\nlet defaultUser = {\r\n  email: '',\r\n  password: '',\r\n  name: 'Жак-Ив Кусто',\r\n  about: 'Исследователь океана',\r\n  avatar: 'https://kaskad.tv/images/2020/foto_zhak_iv_kusto__-_interesnie_fakti_20190810_1078596433.jpg',\r\n}\r\nexport const register = (email, password) => {\r\n  defaultUser.email = email;\r\n  defaultUser.password = password;\r\n  // console.log(JSON.stringify(defaultUser))\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(defaultUser)\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    } else {\r\n    return Promise.reject(res.status === 400) ? `${res.status} - Некорректно введены данные` : `${res.status} - что-то пошло не так`;\r\n    }\r\n  })\r\n};\r\n\r\nexport const login = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((res) => {\r\n    try {\r\n      if (res.status === 200) {\r\n        return res.json();\r\n      }\r\n      if (res.status === 400) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n      if (res.status === 401) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    }\r\n    catch (err) {\r\n      return err;\r\n    }\r\n  })\r\n  .catch ((err) => {return Promise.reject(err)})\r\n /* .then((token) => {\r\n    try{\r\n      if(token) {\r\n          localStorage.setItem('jwt', token);\r\n      }\r\n      return token\r\n    }\r\n      catch (err){\r\n        return Promise.reject(err);\r\n    }\r\n  })\r\n  .catch(err => console.log(err)) */\r\n}\r\n\r\nexport const getContent = ({ token }) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n      headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n  .then((res) => {\r\n    // console.log(res)\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  })\r\n}\r\n\r\nexport const addNewCard = ({ token }, cardName, cardLink) => {\r\n  return fetch(`${BASE_URL}/cards`, {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`},\r\n    body: JSON.stringify({\r\n      name: cardName,\r\n      link: cardLink\r\n    })\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  });\r\n}\r\n// *лайк карточки\r\nexport const like = (token, cardId) => {\r\n  return fetch(`${BASE_URL}/cards/${cardId}/likes`, {\r\n    method: 'PUT',\r\n    headers: {'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`}\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n  })\r\n  .then((data) => data);\r\n}\r\n\r\n// *дизлайк карточки\r\nexport const dislike = (token, cardId) => {\r\n  return fetch(`${BASE_URL}/cards/${cardId}/likes/`, {\r\n    method: 'DELETE',\r\n    headers: {'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`}\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n  })\r\n  .then((data) => data);\r\n}\r\n//*удаление карточки\r\nexport const deleteCard = (token, cardId) => {\r\n  return fetch(`${BASE_URL}/cards/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: {'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`}\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  });\r\n}\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup ${props.isOpen && \"popup_opened\"}`} id={props.name}>\r\n      <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit} method=\"POST\" action=\"#\" id=\"form2\">\r\n        <button className=\"popup__close\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.onClose} id=\"closeAdds\"></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        {props.children}\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n  \r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const avatarRef = React.useRef();\r\n  const [avatar, setAvatar] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setAvatar(currentUser.avatar);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n  }\r\n\r\n  function handleAvatarChange(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"editAvatar\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} title=\"Обновить аватар\" onLoad={props.onLoad} children={ \r\n      <>\r\n        <input type=\"url\" ref={avatarRef} value={avatar || ''} onChange={handleAvatarChange} placeholder=\"Ссылка на картинку\" required className=\"popup__text popup__text_type_activity popup__text_type_avatar\" id=\"link-input\" name=\"link\" />\r\n        <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />);\r\n}\r\n  \r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdateUser({\r\n      name: name, about: description\r\n    })\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} name=\"editProfile\" title=\"Редактировать профиль\" onLoad={props.onLoad} children={\r\n      <>\r\n      <input type=\"text\" value={name || ''} onChange={handleNameChange} required className=\"popup__text popup__text_type_name\" id=\"name-input\" name=\"name\" pattern=\"[A-Za-zА-Яа-яЁё -]*\" minLength=\"2\" maxLength=\"40\"/>\r\n      <input type=\"text\" value={description || ''} onChange={handleDescriptionChange} required className=\"popup__text popup__text_type_activity\" id=\"activity-input\" name=\"link\" minLength=\"2\" maxLength=\"200\"/>\r\n      <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const placeTitle = React.useRef();\r\n  const [link, setLink] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setLink(currentUser.link);\r\n  }, [currentUser]);\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdatePlace({\r\n      name: placeTitle.current.value,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"addPlace\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onLoad={props.onLoad} onSubmit={handleAddPlaceSubmit} children={\r\n      <>\r\n        <input type=\"text\" ref={placeTitle} defaultValue={''} placeholder=\"Название\" required className=\"popup__text popup__text_type_name\" id=\"place-input\" name=\"name\" minLength=\"1\" maxLength=\"30\"/>\r\n        <input type=\"url\" value={link || ''} onChange={handleLinkChange} placeholder=\"Ссылка на картинку\" required className=\"popup__text popup__text_type_activity\" id=\"link-input\" name=\"link\" />\r\n        <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n  \r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`} id=\"popupCard\">\r\n      <figure className=\"popup__image-container\">\r\n        <button className=\"popup__close popup__close_image\" type=\"reset\" aria-label=\"Закрыть\" id=\"cardClose\" onClick={props.onClose}></button>\r\n        <img src={props.card.link} className=\"popup__image\" alt={props.card.name} />\r\n        <figcaption className=\"popup__image-title\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onSubmit()\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"popupConfirm\" title=\"Вы уверены?\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} children={\r\n    <button type=\"submit\" className=\"popup__button popup__button_type_save\">Да</button>}\r\n    />);\r\n}\r\n  \r\nexport default ConfirmPopup;","export class Api {\r\n  constructor(options) {\r\n    this.url = options.baseUrl;\r\n  }\r\n\r\n  //**работа с профилем\r\n  //*получение юзердаты\r\n  getUserInfo(token) {\r\n    console.log(token)\r\n    return fetch(`${this.url}/users/me`, {\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`}\r\n    })\r\n    .then((res) => {\r\n      console.log(res)\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    });\r\n  }\r\n  //*изменение юзердаты\r\n  updateInfo(token, userName, userActivity) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`},\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userActivity\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*установка аватара\r\n  setUserAvatar(token, userAvatar) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`},\r\n      body: JSON.stringify({\r\n        avatar: userAvatar\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n  }\r\n\r\n  //**работа с карточками\r\n  //*получение дефолтных карточек\r\n  getInitialCards({ token }) {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`}\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*добавление карточки\r\n  addNewCard(token, cardName, cardLink) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`},\r\n      body: JSON.stringify({\r\n        name: cardName,\r\n        link: cardLink\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*лайк карточки\r\n  like({ token }, cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`}\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n    .then((data) => data);\r\n  }\r\n  //*дизлайк карточки\r\n  dislike({ token }, cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}/likes/`, {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`}\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n    .then((data) => data);\r\n  }\r\n  //*удаление карточки\r\n  deleteCard({ token }, cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`}\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://api.loki.students.nomoreparties.co',\r\n});\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return (\r\n    <PopupWithForm name=\"infoTooltip\" title=\"\" submitText=\"\" isOpen={props.isOpen} onClose={props.onClose} children={\r\n      <>\r\n        <img src={props.image} className=\"popup__result\" alt=\"\" />\r\n        <h1 className=\"popup__caption\">{props.text}</h1>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n  \r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n  <Route>\r\n  {\r\n  () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signup\" />\r\n  }\r\n  </Route>\r\n  )}\r\n  export default ProtectedRoute;","import React from 'react';\r\n\r\nfunction MobileMenu(props) {\r\n  function signOut() {\r\n    props.closeMenu()\r\n    props.signOut()\r\n  }\r\n  return(\r\n    <div className={`mobile-menu ${props.isOpen && \"mobile-menu_opened\"}`}>\r\n      <p className=\"mobile-menu__text\">{props.userData.email}</p>\r\n      <button onClick={signOut} type=\"reset\" className=\"mobile-menu__button\">Выйти</button>\r\n    </div>\r\n  )\r\n}\r\n  \r\nexport default MobileMenu;","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport * as Auth from '../utils/Auth';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport api from '../utils/Api';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport accesPic from '../images/resOk.svg';\r\nimport errorPic from '../images/false.svg';\r\nimport MobileMenu from './MobileMenu';\r\nimport '../index.css';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\n  \r\n\r\n\r\nfunction App() {\r\n  //**стейты\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  const [dataImage, setDataImage] = React.useState({link: '', name: ''});\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    email: \"\",\r\n    _id: \"\",\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isSaveLoading, setSaveLoading] = React.useState(\"Сохранить\");\r\n  const [isCreateLoading, setCreateLoading] = React.useState(\"Создать\");\r\n  const [cardDelete, selectCardDelete] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [infoData, setInfoData] = React.useState({});\r\n  const [headerData, setHeaderData] = React.useState({crossLink: \"/signin\", linkText: \"Вход\"});\r\n  const [isMenuOpen, setMenuOpen] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  // const [isSourceLoading, setSourceLoading] = React.useState(false);\r\n  const [userToken, setUserToken] = React.useState('');\r\n\r\n  //**хуки\r\n  const history = useHistory();\r\n\r\n  //**функции\r\n  //*функции аутентификации и авторизации\r\n\r\n  function onRegister() {\r\n    Auth.register(email, password)\r\n    .then((res) => {\r\n      if(res) {\r\n        // console.log(res)\r\n        // setUserData.email = res.data.email\r\n        // setUserData._id = res.data._id\r\n        history.push('/signin');\r\n        setPassedMessage()\r\n        handleInfoTooltip()\r\n      } else {\r\n        setFailedMessage()\r\n        handleInfoTooltip()\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleLogin() {\r\n    Auth.login({ email, password })\r\n    .then((token) => {\r\n      if (token){\r\n       /* setEmail({ email });\r\n        setPassword({ password });\r\n        history.push('/');\r\n        setLoggedIn(true)\r\n        tokenCheck();\r\n        return; */\r\n        // console.log(token)\r\n        localStorage.setItem('token', token);\r\n        setUserToken(token)\r\n        console.log(userToken)\r\n        sourceLoading(token)\r\n      }\r\n    }\r\n    )\r\n    .catch((err) => console.log(err));\r\n  }\r\n  function sourceLoading(token) {\r\n    Auth.getContent(token)\r\n    .then((user) => {\r\n      //console.log(user)\r\n      // const { _id, email, name, about, avatar } = data\r\n      // setCurrentUser({ _id: data._id, email: data.email, name: data.name, about: data.about, avatar: data.avatar });\r\n      /* setCurrentUser._id = _id;\r\n      setCurrentUser.email = email;\r\n      setCurrentUser.name = name;\r\n      setCurrentUser.about = about;\r\n      setCurrentUser.avatar = avatar; */\r\n      setCurrentUser(user);\r\n      // console.log(currentUser);\r\n      // \r\n      // setUserData(user);\r\n      // setUserData({ email, _id })\r\n      // console.log(userData);\r\n      //localStorage.setItem('token', token);\r\n      setLoggedIn(true);\r\n      history.push('/');\r\n    })\r\n    .catch(() => signOut())\r\n    .finally(() => {\r\n      api.getInitialCards(token)\r\n      .then((cards) => {\r\n        // console.log(cards);\r\n        // setCurrentUser(user);\r\n        // console.log(currentUser); // ?\r\n        setCards(cards);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      })\r\n  }\r\n    // .finnaly(() => setSourceLoading(true))\r\n  \r\n  /*\r\n  function tokenCheck() {\r\n    }\r\n  }\r\n  */\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if(token) {\r\n    sourceLoading(token)\r\n  } /* else {\r\n    setSourceLoading(false)\r\n  } */\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function signOut(){\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false)\r\n    history.push('/signin');\r\n  }\r\n  \r\n  //*функции открытия попапов\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  };\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n  function handleCardClick(props) {\r\n    setSelectedCard(true);\r\n    setDataImage(props)\r\n  };\r\n  function handleInfoTooltip() {\r\n    setInfoTooltipOpen(true);\r\n  };\r\n  //*функции смены текста сабмита\r\n  function createLoader() {\r\n    setCreateLoading(\"Создание\")\r\n  }\r\n  function saveLoader() {\r\n    setSaveLoading(\"Сохранение\")\r\n  }\r\n  //*функции содержимого infoTooltip\r\n  function setFailedMessage() {\r\n    setInfoData({text: \"Что-то пошло не так! Попробуйте еще раз.\", image: errorPic})\r\n  }\r\n  function setPassedMessage() {\r\n    setInfoData({text: \"Вы успешно зарегистрировались!\", image: accesPic})\r\n  }\r\n  function setEnterLink() {\r\n    setHeaderData({crossLink: \"/signup\", linkText: \"Регистрация\"})\r\n  }\r\n  function setRegLink() {\r\n    setHeaderData({crossLink: \"/signin\", linkText: \"Войти\"})\r\n  }\r\n\r\n  //*функции закрытия попапов\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false)\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setSelectedCard(false)\r\n    setDataImage({})\r\n    setConfirmPopupOpen(false)\r\n    setInfoTooltipOpen(false)\r\n    setCreateLoading(\"Создать\")\r\n    setSaveLoading(\"Сохранить\")\r\n  }\r\n  function handleEscClose(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function handleClickClose(e) {\r\n    if (e.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEscClose)\r\n    window.addEventListener('click', handleClickClose)\r\n  })\r\n  //*функции карточек\r\n  function handleCardLike(card) {\r\n    const token = userToken\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    if (!isLiked) {\r\n    api.like(token, card._id).then((newCard) => {\r\n      const newCards = cards.map((i) => i._id === card._id ? newCard : i);\r\n      setCards(newCards);\r\n    });\r\n  } else {\r\n    api.dislike(token, card._id).then((newCard) => {\r\n      const newCards = cards.map((i) => i._id === card._id ? newCard : i);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setConfirmPopupOpen(true)\r\n    selectCardDelete(card)\r\n  }\r\n\r\n  function ConfirmDelete() {\r\n    const token = userToken\r\n    api.deleteCard(token, cardDelete._id).then(() => {\r\n      const newCards = cards.filter((i) => i._id !== cardDelete._id);\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n  function handleUpdatePlace(data) {\r\n    const token = userToken\r\n    console.log(token)\r\n    Auth.addNewCard(token, data.name, data.link)\r\n    // console.log(data.name, data.link)\r\n    .then((res) => {\r\n      setDataImage(res);\r\n      setCards([res, ...cards]);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n}\r\n/*\r\n  function profileLoading(token) {\r\n    api.getUserInfo(token)\r\n    .then((user) => {\r\n  } */\r\n  //*дефолтные карточки и пользовательские данные\r\n  /* React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if(token) {\r\n      //profileLoading(token)\r\n    Promise.all([api.getUserInfo(token), api.getInitialCards(token)])\r\n    .then(([user, cards]) => {\r\n      setCurrentUser(user);\r\n      console.log(currentUser); // ?\r\n      setCards(cards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    }); \r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); */\r\n\r\n  //*функции изменения пользовательских данных\r\n  function handleUpdateUser(user) {\r\n    const token = userToken\r\n    api.updateInfo(token, user.name, user.about)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  }\r\n  function handleUpdateAvatar(user) {\r\n    const token = userToken\r\n    api.setUserAvatar(token, user.avatar)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  } \r\n\r\n  //*функции для смартфона\r\n  function openMenu() {\r\n    setMenuOpen(true)\r\n  }\r\n  function closeMenu() {\r\n    setMenuOpen(false)\r\n  }\r\n\r\n  //*DOM\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"root\">\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdatePlace={handleUpdatePlace} onLoad={createLoader} isLoading={isCreateLoading} />\r\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onSubmit={ConfirmDelete} name=\"popupConfirm\" title=\"Вы уверены?\" submitText=\"Да\" />\r\n        <ImagePopup isOpen={selectedCard} onClose={closeAllPopups} card={dataImage}/>\r\n        <InfoTooltip text={infoData.text} image={infoData.image} isOpen={isInfoTooltipOpen} onClose={closeAllPopups} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <div className=\"page\">\r\n          {loggedIn ? <MobileMenu userData={currentUser} isOpen={isMenuOpen} signOut={signOut} closeMenu={closeMenu} /> : ''}\r\n          <Header loggedIn={loggedIn} isMenuOpen={isMenuOpen} email={currentUser.email} openMenu={openMenu} closeMenu={closeMenu} signOut={signOut} setLoggedIn={setLoggedIn} crossLink={headerData.crossLink} linkText={headerData.linkText} setEnterLink={setEnterLink} setRegLink={setRegLink} />\r\n          <main className=\"content\">\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact path=\"/\"\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlacePopup={handleAddPlaceClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n                onCardClick={handleCardClick}\r\n                currentUser={currentUser}\r\n              />\r\n              <Route path=\"/signup\">\r\n                <Register onRegister={onRegister} email={email} setEmail={setEmail} password={password} setPassword={setPassword} changeLink={setEnterLink} />\r\n              </Route>\r\n              <Route path=\"/signin\">\r\n                <Login onLogin={handleLogin} changeLink={setRegLink} email={email} password={password} setPassword={setPassword} setEmail={setEmail} setLoggedIn={setLoggedIn}/>\r\n              </Route>\r\n              <Route>\r\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signup\" />}\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}