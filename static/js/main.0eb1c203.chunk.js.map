{"version":3,"sources":["images/mesto.png","images/mob_menu.png","images/resOk.svg","images/false.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","utils/Auth.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/Api.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/MobileMenu.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","changeLink","crossLink","setEnterLink","setRegLink","mobileButton","isMenuOpen","type","aria-label","onClick","closeMenu","id","className","src","menu","openMenu","alt","logo","loggedIn","to","linkText","email","signOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","cardDeleteButtonVisible","card","owner","_id","display","isLiked","likes","some","i","cardLikeButtonClassName","style","onCardDelete","onCardClick","data-name","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlacePopup","cards","map","key","onCardCick","Footer","Login","onChange","e","setEmail","target","value","placeholder","setPassword","password","preventDefault","onLogin","Register","onRegister","BASE_URL","PopupWithForm","isOpen","onSubmit","method","action","onClose","title","children","EditAvatarPopup","avatarRef","useRef","useState","setAvatar","useEffect","onLoad","onUpdateAvatar","current","ref","required","isLoading","EditProfilePopup","setName","description","setDescription","onUpdateUser","pattern","minLength","maxLength","AddPlacePopup","placeTitle","setLink","onUpdatePlace","defaultValue","ImagePopup","ConfirmPopup","api","options","this","url","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","Error","status","userName","userActivity","body","JSON","stringify","userAvatar","statusText","cardName","cardLink","cardId","data","authorization","InfoTooltip","submitText","image","text","ProtectedRoute","Component","component","MobileMenu","userData","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","dataImage","setDataImage","setCurrentUser","setCards","isSaveLoading","setSaveLoading","isCreateLoading","setCreateLoading","cardDelete","selectCardDelete","setLoggedIn","infoData","setInfoData","headerData","setHeaderData","setMenuOpen","setUserData","uri","window","location","origin","history","useHistory","handleInfoTooltip","saveLoader","closeAllPopups","handleEscClose","handleClickClose","classList","contains","localStorage","removeItem","push","addEventListener","all","getUserInfo","getInitialCards","user","catch","err","console","log","getItem","jwt","token","tokenCheck","Provider","updateInfo","setUserAvatar","addNewCard","deleteCard","newCards","filter","exact","path","like","newCard","dislike","Auth","accesPic","errorPic","setItem","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.0eb1c203.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAiCAYAAABm4YqjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZ0SURBVHgB7Vz9dds4DEfu3f9VJ4g2qDJB1AkuG0QbJDeBnQmam8DOBE4mkDuB3QnkTuDcBChhgTEKUfzwR56c+vcenkUKhEjxJxIEmVzAGScFRKxV1tPFxcUUDgzznMz8NEa+GvtLOOP0gS0qIyXLzMg3OAKM3Rsm0RkfAUyeS5HOjaz5uqAOV/cqkSayTYhsdE/kF5w3Ufr3ljz0a2RkdSj9F5xx6pAjQ2HkH5HOjdzSBZNiYuTFyA8jNROCdGac92SECFJy+Tsjn/h6YeQz69Azxn/DGacImk7+52vq4P8iyhDJ5sZ/eaaEKf9srl+ZPK/WbzLpK8p3lH/LNzr0OzuPPKeJ0si1kZGRpenUcUQZIg1NTw1NPdCOSsDO8Hea+sh/Mtc3PeULnrLIiZ6+5fLcKGVvJ8kOiYe2+6dD+jzsw6yFX1IxMUDcr1X5nPWoXCHyM9ZfWL+HiXbJ+Q3/2n5trDGN9b4dzSzVGMMZe0GSh9O1fa+ik3Pu5Jklj/m9w9+d4QVuV2wjkU/99sjXljyVJCHbavqmLSJOCbs3MDc/FXwwYLt0rYQMYSR9MEKdmZkpaG6uaRpasHwXenQ9YrLR6uyH0C+YTFQmN/KonkFTXiZ0rja56B55ELvBqGjwi8WPNvLwi5e4hAHCR2rscR9wu/KC6LLYTx5CCbtVvjmT5+MjtNq6gUQw4XI448MjRJ5bTJ/Xb+GMPwKhICERp4KuA+UEHtBRxjbMTpHMArZR1BW0jt/UOHurBFt2AeCyR/Jig2eOshW0MRVCrm4/Yhsws/i3J8Am61GxPbtMfrV1gDaIt4JTgcPnoeXdWqSjHWfyaZStSarPg9vlZgjfYkbFBHukkzvKTzEelz11sPtCMXUYwakAu+SZYJcEZaStRr0IveoaB8qPMA20dPStLG4xDQ0qAuGe5MGWOAtMwwROAegmT5baGOwSpcIE8mAbQ9Gosd3ZLfk+dWSjdTztahz2bvhewfXz2uNnVz26dxiI+6A7WFqz/g23r3boHOWYxUGBDvJwvmxQMOLseAE2DC4x9pRvlO69p75at3ToVa52Rda9jNTzLtUddVh7bN9jFyUMGdhPnlLlj3ewEUUeTJ/ecgz4ZdidbkqPPWrrhDuw9wAUppOnUfpVQH+s9HcO1L4LsKfj+Z7soMZjY+LqKIwnzyLmOaqMJkcWuJ8cs3I8s1Y2Lz26hdINtgtbd2Hta9eQEIrzyHMiOfZ/vTJ/yXsmUeCXU4iseWRRrZer9FKlaXVWwfuhVOngmRte5r8E7AwGoTgPxXfk0pGu51KBOyQXWTEHkyQKlc4xbhvji8OOJMwU2vraLzc3MsF2Kbw5wwKJRE+EbtcS4kB6MtCaw0DhJQ+fNJvDlv3kG2QqECYbuoJ2BzYFelgu4QBfG9f9q7ms1TNyls00hm2Qbw5toHAKh4Oe0l4hDiuVzmGgiDlJ+KDSb6sgbGMipbg390VYe3C0OZ1PydHxgSfwP5+IRKNSg4Gd5T2wjtTT7+8TDBTBM8w0rJsXujnzwVl0ZnbM1zoa+gDp0C+LRq4XSMfclcnhfnLcifQlyxdwj245tAfDr3b4CDR+qvRnR54LWcDOYBB7AJ4605InY8eZCCVXMLvuy2hf4Ocx/oiNyfAMYlrldlTQ9TGIaGPYD5p82ifrQxGwMxjEHoAnx1k2gkYcIo78Sp5gBzDhpO1reCfQqGqkgq6TX8D+0ESJbdd1wM5gEEUe/molOUojMny+2nO0kC+owIjIKraBPbt14doWoFWbDf9XAXOPKn0IP4NGOPlRBP/60uFDro64Gtwf6AkSKj0dcY4pExsk1LYbn+OK7i2KTNzXe3Pe7RVHPZ979GZKrwQPsBuonHl0M4zcohkMMJI8rFujG3mPfhR5emw36Bgx0H3EYhJhb4HuIxc0IuiobtVTx0dHHak+m41Wh37usF1jd+e+xO7OO9k+2kr0IMA08rg272qPfgp5XKMJ8suv+eWuHfcbdJOi6NEnWzP+dd33jQ6+0Xcd+Q5kuxp01+G3v6kaLDCNPK69l8qjH00eUZcG40G6uceea1TxocawXzL2lC8OUI8GT4E4BEwgD+vLobsJ6CaRR5VbBF4wdWLMSUJq3zTQeTUm7Huh+2wPov9DCtVjHdumoeACBgxsRxUrBFq9LHc954utg5vBNsSw2ZrYNSAo6kdYxdbLUY/lKf4DpV+nzblup5swNwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/mob_menu.91a796f1.png\";","module.exports = __webpack_public_path__ + \"static/media/resOk.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/false.c32299fa.svg\";","/* eslint-disable react/jsx-no-comment-textnodes */\r\nimport React from 'react';\r\nimport logo from '../images/mesto.png';\r\nimport menu from '../images/mob_menu.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  function changeLink() {\r\n    if (props.crossLink === \"/signin\") {\r\n      props.setEnterLink()\r\n    } else {\r\n      props.setRegLink()\r\n    }\r\n  }\r\n  const mobileButton = (\r\n      <>\r\n        {props.isMenuOpen ? <button type=\"reset\" aria-label=\"Закрыть\" onClick={props.closeMenu} id=\"closeMenu\" className=\"header__close-menu\"></button> : <img src={menu} onClick={props.openMenu} className=\"header__mobile-menu\" alt=\"меню\" />}\r\n      </>)\r\n  \r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"header__logo\" alt=\"логотип\" />\r\n      {props.loggedIn ? mobileButton : <Link to={props.crossLink} onClick={changeLink} className=\"header__text header__text_doubler\">{props.linkText}</Link>}\r\n      <div className=\"header__info\">\r\n        {props.loggedIn ? <p className=\"header__text\">{props.email}</p> : <Link to={props.crossLink} onClick={changeLink} className=\"header__text\">{props.linkText}</Link>}\r\n        {props.loggedIn ? <button onClick={props.signOut} className=\"header__button\">Выйти</button> : \"\"}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n  \r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\nexport const currentUser = {}","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  function handleClick() {\r\n    props.onCardClick(props.card)\r\n  }\r\n  \r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonVisible = (\r\n    isOwn ? {display: 'block'} : {display: 'none'}\r\n  );\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_type_active' : ''}`\r\n  );\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <template id=\"card\" className=\"card\">\r\n      <button className=\"card__delete\" style={cardDeleteButtonVisible} onClick={handleDeleteClick} type=\"reset\" aria-label=\"Удалить\"></button>\r\n      <img className=\"card__image\" onClick={handleClick} data-name=\"\" src={props.card.link} alt={props.card.name} />\r\n      <div className=\"card__bottom\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Мне нравится\"></button>\r\n        <h3 className=\"card__counter\">{props.card.likes.length}</h3>\r\n      </div>\r\n    </template>\r\n  );\r\n}\r\n  \r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <>\r\n      <div className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <img className=\"profile__photo\" src={currentUser.avatar} alt=\"аватар\" />\r\n          <div className=\"profile__photo profile__photo_change\" onClick={props.onEditAvatar}></div>\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button className=\"profile__button profile__button_type_edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__button profile__button_type_add\" type=\"button\" onClick={props.onAddPlacePopup}></button>\r\n      </div>\r\n      <div className=\"cards\">\r\n        {props.cards.map((card) => (\r\n          <Card key={card._id} card={card} onCardCick={props.onCardClick} onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n  \r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Алексей Акулич</p>\r\n    </footer>\r\n  );\r\n}\r\n  \r\nexport default Footer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLogin();\r\n  }\r\n  return (\r\n    <form className=\"signform\">\r\n      <p className=\"signform__text\">Войти</p>\r\n      <input type=\"text\" className=\"signform__input\" onChange={e => props.setEmail(e.target.value)} value={props.email} placeholder=\"Email\" id=\"email\" name=\"email\" />\r\n      <input type=\"password\" className=\"signform__input\" onChange={e => props.setPassword(e.target.value)} value={props.password} placeholder=\"Пароль\" id=\"pass\" name=\"pass\" />\r\n      <button type=\"submit\" className=\"signform__submit\" onClick={handleSubmit}>Войти</button>\r\n      <Link to=\"/signup\" onClick={props.changeLink} className=\"signform__link\">Еще не зарегистрированы? Регистрация</Link>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onRegister()\r\n  }\r\n\r\n  return (\r\n    <form className=\"signform\">\r\n      <p className=\"signform__text\">Регистрация</p>\r\n      <input type=\"text\" className=\"signform__input\" onChange={e => props.setEmail(e.target.value)} value={props.email} placeholder=\"Email\" id=\"email\" name=\"email\" />\r\n      <input type=\"password\" className=\"signform__input\" onChange={e => props.setPassword(e.target.value)} value={props.password} placeholder=\"Пароль\" id=\"password\" name=\"password\" />\r\n      <button type=\"submit\" className=\"signform__submit\" onClick={handleSubmit}>Зарегестрироваться</button>\r\n      <Link to=\"/signin\" onClick={props.changeLink} className=\"signform__link\">Уже зарегистрированы? Войти</Link>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then((res) => {\r\n    try {\r\n      if(res.ok) {\r\n        return res.json();\r\n      }\r\n    } catch(e) {\r\n      return (e)\r\n    }\r\n  })\r\n}\r\n\r\nexport const login = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((res) => {\r\n    try {\r\n      if (res.status === 200) {\r\n        return res.json();\r\n      }\r\n      if (res.status === 400) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n      if (res.status === 401) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    }\r\n    catch (err) {\r\n      return err;\r\n    }\r\n  })\r\n  .catch ((err) => {return Promise.reject(err)})\r\n  .then((data) => {\r\n    try{\r\n      if(data.token) {\r\n          localStorage.setItem('jwt', data.token);\r\n      }\r\n      return data\r\n    }\r\n      catch (err){\r\n        return Promise.reject(err);\r\n    }\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n      headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n  .catch((err) => {\r\n    console.log(err);\r\n  })\r\n}\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup ${props.isOpen && \"popup_opened\"}`} id={props.name}>\r\n      <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit} method=\"POST\" action=\"#\" id=\"form2\">\r\n        <button className=\"popup__close\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.onClose} id=\"closeAdds\"></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        {props.children}\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n  \r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const avatarRef = React.useRef();\r\n  const [avatar, setAvatar] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setAvatar(currentUser.avatar);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n  }\r\n\r\n  function handleAvatarChange(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"editAvatar\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} title=\"Обновить аватар\" onLoad={props.onLoad} children={ \r\n      <>\r\n        <input type=\"url\" ref={avatarRef} value={avatar || ''} onChange={handleAvatarChange} placeholder=\"Ссылка на картинку\" required className=\"popup__text popup__text_type_activity popup__text_type_avatar\" id=\"link-input\" name=\"link\" />\r\n        <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />);\r\n}\r\n  \r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdateUser({\r\n      name: name, about: description\r\n    })\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} name=\"editProfile\" title=\"Редактировать профиль\" onLoad={props.onLoad} children={\r\n      <>\r\n      <input type=\"text\" value={name || ''} onChange={handleNameChange} required className=\"popup__text popup__text_type_name\" id=\"name-input\" name=\"name\" pattern=\"[A-Za-zА-Яа-яЁё -]*\" minLength=\"2\" maxLength=\"40\"/>\r\n      <input type=\"text\" value={description || ''} onChange={handleDescriptionChange} required className=\"popup__text popup__text_type_activity\" id=\"activity-input\" name=\"link\" minLength=\"2\" maxLength=\"200\"/>\r\n      <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const placeTitle = React.useRef();\r\n  const [link, setLink] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setLink(currentUser.link);\r\n  }, [currentUser]);\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault()\r\n    props.onLoad()\r\n    props.onUpdatePlace({\r\n      name: placeTitle.current.value,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"addPlace\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onLoad={props.onLoad} onSubmit={handleAddPlaceSubmit} children={\r\n      <>\r\n        <input type=\"text\" ref={placeTitle} defaultValue={''} placeholder=\"Название\" required className=\"popup__text popup__text_type_name\" id=\"place-input\" name=\"name\" minLength=\"1\" maxLength=\"30\"/>\r\n        <input type=\"url\" value={link || ''} onChange={handleLinkChange} placeholder=\"Ссылка на картинку\" required className=\"popup__text popup__text_type_activity\" id=\"link-input\" name=\"link\" />\r\n        <button type=\"submit\" className=\"popup__button popup__button_type_save\">{props.isLoading}</button>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n  \r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`} id=\"popupCard\">\r\n      <figure className=\"popup__image-container\">\r\n        <button className=\"popup__close popup__close_image\" type=\"reset\" aria-label=\"Закрыть\" id=\"cardClose\" onClick={props.onClose}></button>\r\n        <img src={props.card.link} className=\"popup__image\" alt={props.card.name} />\r\n        <figcaption className=\"popup__image-title\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onSubmit()\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"popupConfirm\" title=\"Вы уверены?\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} children={\r\n    <button type=\"submit\" className=\"popup__button popup__button_type_save\">Да</button>}\r\n    />);\r\n}\r\n  \r\nexport default ConfirmPopup;","export class Api {\r\n  constructor(options) {\r\n    this.url = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  //**работа с профилем\r\n  //*получение юзердаты\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      headers: this.headers,\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    });\r\n  }\r\n  //*изменение юзердаты\r\n  updateInfo(userName, userActivity) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userActivity\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*установка аватара\r\n  setUserAvatar(userAvatar) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: userAvatar\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n  }\r\n\r\n  //**работа с карточками\r\n  //*получение дефолтных карточек\r\n  getInitialCards() {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: this.headers,\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*добавление карточки\r\n  addNewCard(cardName, cardLink) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: cardName,\r\n        link: cardLink\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n  //*лайк карточки\r\n  like(cardId) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n    .then((data) => data);\r\n  }\r\n  //*дизлайк карточки\r\n  dislike(cardId) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status} ${res.statusText}`));\r\n    })\r\n    .then((data) => data);\r\n  }\r\n  //*удаление карточки\r\n  deleteCard(id) {\r\n    return fetch(`${this.url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n  headers: {\r\n    authorization: '35090019-cd19-48d3-8c6b-3ac80f2c4184',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return (\r\n    <PopupWithForm name=\"infoTooltip\" title=\"\" submitText=\"\" isOpen={props.isOpen} onClose={props.onClose} children={\r\n      <>\r\n        <img src={props.image} className=\"popup__result\" alt=\"\" />\r\n        <h1 className=\"popup__caption\">{props.text}</h1>\r\n      </>}\r\n    />\r\n  );\r\n}\r\n  \r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n  <Route>\r\n  {\r\n  () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signup\" />\r\n  }\r\n  </Route>\r\n  )}\r\n  export default ProtectedRoute;","import React from 'react';\r\n\r\nfunction MobileMenu(props) {\r\n  function signOut() {\r\n    props.closeMenu()\r\n    props.signOut()\r\n  }\r\n  return(\r\n    <div className={`mobile-menu ${props.isOpen && \"mobile-menu_opened\"}`}>\r\n      <p className=\"mobile-menu__text\">{props.userData.email}</p>\r\n      <button onClick={signOut} type=\"reset\" className=\"mobile-menu__button\">Выйти</button>\r\n    </div>\r\n  )\r\n}\r\n  \r\nexport default MobileMenu;","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport * as Auth from '../utils/Auth';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport api from '../utils/Api';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport accesPic from '../images/resOk.svg';\r\nimport errorPic from '../images/false.svg';\r\nimport MobileMenu from './MobileMenu';\r\nimport '../index.css';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\n  \r\n\r\n\r\nfunction App() {\r\n  //**стейты\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  const [dataImage, setDataImage] = React.useState({link: '', name: ''});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isSaveLoading, setSaveLoading] = React.useState(\"Сохранить\");\r\n  const [isCreateLoading, setCreateLoading] = React.useState(\"Создать\");\r\n  const [cardDelete, selectCardDelete] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [infoData, setInfoData] = React.useState({});\r\n  const [headerData, setHeaderData] = React.useState({crossLink: \"/signin\", linkText: \"Вход\"});\r\n  const [isMenuOpen, setMenuOpen] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const [userData, setUserData] = React.useState({\r\n    email: \"\",\r\n    _id: \"\"\r\n  });\r\n  const uri = window.location.origin;\r\n\r\n  //**хуки\r\n  const history = useHistory();\r\n\r\n  //**функции\r\n  //*функции открытия попапов\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  };\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n  function handleCardClick(props) {\r\n    setSelectedCard(true);\r\n    setDataImage(props)\r\n  };\r\n  function handleInfoTooltip() {\r\n    setInfoTooltipOpen(true);\r\n  };\r\n  //*функции смены текста сабмита\r\n  function createLoader() {\r\n    setCreateLoading(\"Создание\")\r\n  }\r\n  function saveLoader() {\r\n    setSaveLoading(\"Сохранение\")\r\n  }\r\n  //*функции содержимого infoTooltip\r\n  function setFailedMessage() {\r\n    setInfoData({text: \"Что-то пошло не так! Попробуйте еще раз.\", image: errorPic})\r\n  }\r\n  function setPassedMessage() {\r\n    setInfoData({text: \"Вы успешно зарегистрировались!\", image: accesPic})\r\n  }\r\n  function setEnterLink() {\r\n    setHeaderData({crossLink: \"/signup\", linkText: \"Регистрация\"})\r\n  }\r\n  function setRegLink() {\r\n    setHeaderData({crossLink: \"/signin\", linkText: \"Войти\"})\r\n  }\r\n\r\n\r\n  //*функции закрытия попапов\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false)\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setSelectedCard(false)\r\n    setDataImage({})\r\n    setConfirmPopupOpen(false)\r\n    setInfoTooltipOpen(false)\r\n    setCreateLoading(\"Создать\")\r\n    setSaveLoading(\"Сохранить\")\r\n  }\r\n  function handleEscClose(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function handleClickClose(e) {\r\n    if (e.target.classList.contains('popup_opened')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEscClose)\r\n    window.addEventListener('click', handleClickClose)\r\n  })\r\n  //*функции карточек\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.like(card._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((i) => i._id === card._id ? newCard : i);\r\n      setCards(newCards);\r\n    });\r\n    api.dislike(card._id, isLiked).then((newCard) => {\r\n      const newCards = cards.map((i) => i._id === card._id ? newCard : i);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setConfirmPopupOpen(true)\r\n    selectCardDelete(card)\r\n  }\r\n\r\n  function ConfirmDelete() {\r\n    api.deleteCard(cardDelete._id).then(() => {\r\n      const newCards = cards.filter((i) => i._id !== cardDelete._id);\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n  function handleUpdatePlace(data) {\r\n    api.addNewCard(data.name, data.link)\r\n    .then((res) => {\r\n      setDataImage(res);\r\n      setCards([res, ...cards]);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  }\r\n  //*дефолтные карточки и пользовательские данные\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n    .then(([user, cards]) => {\r\n      setCurrentUser(user);\r\n      setCards(cards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n  //*функции изменения пользовательских данных\r\n  function handleUpdateUser(data) {\r\n    api.updateInfo(data.name, data.about)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  }\r\n  function handleUpdateAvatar(data) {\r\n    api.setUserAvatar(data.avatar)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  }\r\n\r\n  //**функции аутентификации и авторизации\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [loggedIn])\r\n\r\n  function handleLogin() {\r\n    Auth.login({ email, password })\r\n    .then((data) => {\r\n      if (data){\r\n        setEmail('');\r\n        setPassword('');\r\n        history.push('/');\r\n        setLoggedIn(true)\r\n        return;\r\n      }\r\n    }\r\n    )\r\n    .catch((err) => console.log(err));\r\n  }\r\n  function onRegister() {\r\n    Auth.register(email, password)\r\n    .then((res) => {\r\n      if(res) {\r\n        history.push('/signin');\r\n        setPassedMessage()\r\n        handleInfoTooltip()\r\n      } else {\r\n        setFailedMessage()\r\n        handleInfoTooltip()\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n  }\r\n  function tokenCheck() {\r\n    if (localStorage.getItem('jwt')) {\r\n      let jwt = localStorage.getItem('jwt');\r\n      Auth.getContent(jwt)\r\n      .then((res) => {\r\n        setUserData(res.data);\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n      })\r\n      .catch ((err) => console.log(err));\r\n    }\r\n  }\r\n  function signOut(){\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false)\r\n    history.push('/signin');\r\n  }\r\n\r\n  //*функции для смартфона\r\n  function openMenu() {\r\n    setMenuOpen(true)\r\n  }\r\n  function closeMenu() {\r\n    setMenuOpen(false)\r\n  }\r\n\r\n  //*DOM\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"root\">\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdatePlace={handleUpdatePlace} onLoad={createLoader} isLoading={isCreateLoading} />\r\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onSubmit={ConfirmDelete} name=\"popupConfirm\" title=\"Вы уверены?\" submitText=\"Да\" />\r\n        <ImagePopup isOpen={selectedCard} onClose={closeAllPopups} card={dataImage}/>\r\n        <InfoTooltip text={infoData.text} image={infoData.image} isOpen={isInfoTooltipOpen} onClose={closeAllPopups} onLoad={saveLoader} isLoading={isSaveLoading} />\r\n        <div className=\"page\">\r\n          {loggedIn ? <MobileMenu userData={userData} isOpen={isMenuOpen} signOut={signOut} closeMenu={closeMenu} /> : ''}\r\n          <Header loggedIn={loggedIn} isMenuOpen={isMenuOpen} email={userData.email} openMenu={openMenu} closeMenu={closeMenu} signOut={signOut} setLoggedIn={setLoggedIn} crossLink={headerData.crossLink} linkText={headerData.linkText} setEnterLink={setEnterLink} setRegLink={setRegLink} />\r\n          <main className=\"content\">\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact path=\"/\"\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlacePopup={handleAddPlaceClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n                onCardClick={handleCardClick}\r\n              />\r\n              <Route path=\"/signup\">\r\n                <Register onRegister={onRegister} email={email} setEmail={setEmail} password={password} setPassword={setPassword} changeLink={setEnterLink} />\r\n              </Route>\r\n              <Route path=\"/signin\">\r\n                <Login onLogin={handleLogin} changeLink={setRegLink} email={email} password={password} setPassword={setPassword} setEmail={setEmail} setLoggedIn={setLoggedIn}/>\r\n              </Route>\r\n              <Route>\r\n                {loggedIn ? <Redirect to={`${uri}/`} /> : <Redirect to={`${uri}/signup`} />}\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}